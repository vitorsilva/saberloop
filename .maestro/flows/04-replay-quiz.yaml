appId: com.saberloop.app
---
# Test 04: Replay Saved Quiz
# Verifies replaying a quiz from home screen Recent Topics

# Launch and navigate to home
- launchApp
- runFlow:
    file: _shared/navigate-home.yaml

# Verify Recent Topics shows at least one quiz
- assertVisible:
    text: ".*Recent.*Topics.*"

# Take screenshot of home with quizzes
- takeScreenshot: 04-home-recent-topics

# Tap on Solar System quiz (sample quiz)
- tapOn:
    text: "Solar System"

# Verify quiz starts immediately (not loading screen - uses saved questions)
- assertVisible:
    text: "Solar System Quiz"

# Verify progress indicator
- assertVisible:
    text: "Question 1 of 5"

- takeScreenshot: 04-replay-started

# Answer all 5 questions quickly (just tap first option for each)
# Q1: What is the largest planet? - A) Earth (incorrect, correct is C) Jupiter)
- tapOn:
    text: "A).*"
- tapOn:
    text: ".*Submit.*|.*Next.*"

# Q2-Q5: Continue with first option
- assertVisible: "Question 2 of 5"
- tapOn:
    text: "A).*"
- tapOn:
    text: ".*Submit.*|.*Next.*"

- assertVisible: "Question 3 of 5"
- tapOn:
    text: "A).*"
- tapOn:
    text: ".*Submit.*|.*Next.*"

- assertVisible: "Question 4 of 5"
- tapOn:
    text: "A).*"
- tapOn:
    text: ".*Submit.*|.*Next.*"

- assertVisible: "Question 5 of 5"
- tapOn:
    text: "A).*"
- tapOn:
    text: ".*Submit.*|.*Next.*"

# Verify results page
- assertVisible:
    text: ".*Results.*"

- takeScreenshot: 04-replay-results

# Return to home
- tapOn:
    text: ".*Try Another.*"

# Tap Home in nav
- tapOn: "Home"

# Verify we're back on home
- assertVisible:
    text: "Saberloop"

# Verify Solar System quiz still exists (not duplicated)
- assertVisible:
    text: "Solar System"

- takeScreenshot: 04-home-after-replay
